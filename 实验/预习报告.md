# 预习报告

## 实验一  LINUX 常用命令

### (1)练习ls命令

作用：展示目录中内容。参数如下：

| **参数**             | **作用**                                                     |
| -------------------- | ------------------------------------------------------------ |
| -A                   | 全部的档案，连同隐藏档，但不包括 . 与 .. 这两个目录，一起列出来～ |
| -d                   | 仅列出目录本身，而不是列出目录内的档案数据                   |
| -f                   | 直接列出结果，而不进行排序 (ls 预设会以档名排序！)           |
| -F                   | 根据档案、目录等信息，给予附加数据结构，例如：               |
| *                    | 代表可执行档 /：代表目录 =：代表 socket 档案 \|：代表 FIFO 档案 |
| -h                   | 将档案容量以人类较易读的方式(例如 GB, KB 等等)列出来         |
| -i                   | 列出 inode 位置，而非列出档案属性                            |
| -l                   | 长数据串行出，包含档案的属性等等数据                         |
| -n                   | 列出 UID 与 GID 而非使用者与群组的名称 (UID与GID会在账号管理提到！) |
| -r                   | 将排序结果反向输出，例如：原本档名由小到大，反向则为由大到小 |
| -R                   | 连同子目录内容一起列出来                                     |
| -S                   | 以档案容量大小排序！                                         |
| -t                   | 依时间排序                                                   |
| --color=never        | 不要依据档案特性给予颜色显示                                 |
| --color=always       | 显示颜色                                                     |
| --color=auto         | 让系统自行依据设定来判断是否给予颜色                         |
| --full-time          | 以完整时间模式 (包含年、月、日、时、分) 输出                 |
| --time={atime,ctime} | 输出 access 时间或 改变权限属性时间 (ctime) 而非内容变更时间 (modification time) |

例如：

ls [-aAdfFhilRS] 目录名称

ls [--color={none,auto,always}] 目录名称 

ls [--full-time] 目录名称    

 

### (2)练习cd命令

作用：进入目录。参数如下：

| **命令**           | **作用**                                         |
| ------------------ | ------------------------------------------------ |
| cd /root/Docements | 切换到目录/root/Docements                        |
| cd ./path          | 切换到当前目录下的path目录中，“.”表示当前目录    |
| cd ../path         | 切换到上层目录中的path目录中，“..”表示上一层目录 |

### (3)练习cp 命令

作用：复制。参数如下：

| **参数** | **作用**                                                     |
| -------- | ------------------------------------------------------------ |
| -a       | 将文件的特性一起复制                                         |
| -p       | 连同文件的属性一起复制，而非使用默认方式，与-a相似，常用于备份 |
| -i       | 若目标文件已经存在时，在覆盖时会先询问操作的进行             |
| -r       | 递归持续复制，用于目录的复制行为                             |
| -u       | 目标文件与源文件有差异时才会复制                             |

### (4)练习rm命令

作用：删除。参数如下：

| **参数** | **作用**                                            |
| -------- | --------------------------------------------------- |
| -f       | 就是force的意思，忽略不存在的文件，不会出现警告消息 |
| -i       | 互动模式，在删除前会询问用户是否操作                |
| -r       | 递归删除，最常用于目录删除                          |

### (5)练习mv命令

作用：移动文件。参数如下：

| **参数** | **作用**                                                  |
| -------- | --------------------------------------------------------- |
| -f       | force强制的意思，如果目标文件已经存在，不会询问而直接覆盖 |
| -i       | 若目标文件已经存在，就会询问是否覆盖                      |
| -u       | 若目标文件已经存在，且比目标文件新，才会更新              |

### (6)熟悉mkdir命令

作用：创建目录。格式如下：

```
mkdir [选项] 目录。参数如下：
```

| 参数           | 作用                                                         |
| -------------- | ------------------------------------------------------------ |
| -m --mode=模式 | 设定权限<模式> (类似 chmod)，而不是 rwxrwxrwx 减 umask       |
| -p --parents   | 可以是一个路径名称。此时若路径中的某些目录尚不存在,加上此选项后,系统将自动建立好那些尚不存在的目录,即一次可以建立多个目录; |
| -v, --verbose  | 每次创建新目录都显示信息                                     |

### (7)熟悉rmdir 命令

作用：删除目录。格式如下：

```
rmdir [选项] 目录。参数如下：
```

| 参数        | 作用                                                         |
| ----------- | ------------------------------------------------------------ |
| -p          | 递归删除目录dirname，当子目录删除后其父目录为空时，也一同被删除。如果整个路径被删除或者由于某种原因保留部分路径，则系统在标准输出上显示相应的信息。 |
| -v –verbose | 显示指令执行过程                                             |

## 实验一 LINUX 下 C 语言使用、编译与调试

### (1)gcc编译

以上是简单的变异过程，具体的编译过程如下：

#### 1.1、预处理：

gcc -E 文件.c -o 文件.i

处理以#开头的代码如：头文件、宏定义、条件编译。

#### 1.2、编译：

gcc -S 文件.i -o 文件.s

把c代码翻译成汇编语言。

#### 1.3、汇编：

gcc -c 文件.s -o 文件.o

把汇编代码翻译成二进制。

#### 1.4、链接：

gcc 所有文件.o -o 文件名 链接程序需要用到的其他文件；

gcc -I 指定头文件路径；

gcc -static 静态链接。

### (2)gdb调试

先创建一个test.c的文件写入代码，然后执行命令：

gcc test.c -o test -g

gcc test

可以进入调试模式，下面是几个调试相关命令：

| **命令** | **作用**                                 |
| -------- | ---------------------------------------- |
| list     | 显示代码                                 |
| run      | 运行代码                                 |
| break    | 下断 断点+行数或者函数名。可以直接输入 b |
| step     | 一步一步执行，可以直接输入 s             |

